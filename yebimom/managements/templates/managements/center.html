{% extends "managements/_base.html" %}


{% block content-title %}{{ center.name }} 통합관리{% endblock %}
{% block breadcrumb %}
<li>
  <a href="{% url "managements:center" center.hash_id %}">{{ center.name }}</a>
</li>
<li>
  <a href="">통합관리</a>
</li>
{% endblock %}

{% block content %}
  <div class="row">
    <div class="col-lg-12">
      <div class="ibox float-e-margins">

        <div class="ibox-title">
          <h5>산후조리원 상세페이지 유입 분석 <small>산후조리원 상세페이지에 대한 통계정보를 확인하실 수 있습니다</small></h5>
          <div class="ibox-tools">
            <a class="collapse-link">
              <i class="fa fa-chevron-up"></i>
            </a>
            <a class="dropdown-toggle" data-toggle="dropdown" href="#">
              <i class="fa fa-wrench"></i>
            </a>
            <ul class="dropdown-menu dropdown-user">
              <li>
                <a href="#">준비중입니다</a>
              </li>
            </ul>
            <a class="close-link">
              <i class="fa fa-times"></i>
            </a>
          </div>
        </div>

        <div class="ibox-content">
          <div id="analytics"></div>  
        </div>


      </div>
    </div>
  </div>

  <div class="row animated fadeInDown">
      <div class="col-lg-3">
          <div class="ibox float-e-margins">
              <div class="ibox-title">
                  <h5>일정 미등록 상담자 목록</h5>
                  <div class="ibox-tools">
                      <a class="collapse-link">
                          <i class="fa fa-chevron-up"></i>
                      </a>
                      <a class="dropdown-toggle" data-toggle="dropdown" href="#">
                          <i class="fa fa-wrench"></i>
                      </a>
                      <ul class="dropdown-menu dropdown-user">
                          <li>
                            <a href="#">준비중입니다</a>
                          </li>
                      </ul>
                      <a class="close-link">
                          <i class="fa fa-times"></i>
                      </a>
                  </div>
              </div>
              <div class="ibox-content">
                  <div id='external-events'>
                      <p>일정이 등록되지 않은 상담자 목록입니다. 드래그하여 캘린더에 추가하여 관리할 수 있습니다.</p>
                      <div class='external-event navy-bg'>@서정봉 방문상담 - 팀장님 감사합니다</div>
                      <div class='external-event navy-bg'>@최한나 전화상담 - 선임님 감사합니다</div>
                      <div class='external-event navy-bg'>@배권한 방문예약 - 멘토님 감사합니다</div>
                      <div class='external-event navy-bg'>@김진우 전화상담</div>
                      <div class='external-event navy-bg'>@안수찬 방문예약</div>
                      <div class='external-event navy-bg'>@임원균 방문예약</div>
                      <div class='external-event navy-bg'>@전소정 전화상담</div>
                      <p class="m-t">
                          <input type='checkbox' id='drop-remove' class="i-checks" checked /> <label for='drop-remove'>일정 등록 후 목록에서 제거</label>
                      </p>
                  </div>
              </div>
          </div>
          <div class="ibox float-e-margins">
              <div class="ibox-content">
                  <h2>FullCalendar</h2> is a jQuery plugin that provides a full-sized, drag & drop calendar like the one below. It uses AJAX to fetch events on-the-fly for each month and is
                  easily configured to use your own feed format (an extension is provided for Google Calendar).
                  <p>
                      <a href="http://arshaw.com/fullcalendar/" target="_blank">FullCalendar documentation</a>
                  </p>
              </div>
          </div>
      </div>
      <div class="col-lg-9">
          <div class="ibox float-e-margins">
              <div class="ibox-title">
                  <h5>Striped Table </h5>
                  <div class="ibox-tools">
                      <a class="collapse-link">
                          <i class="fa fa-chevron-up"></i>
                      </a>
                      <a class="dropdown-toggle" data-toggle="dropdown" href="#">
                          <i class="fa fa-wrench"></i>
                      </a>
                      <ul class="dropdown-menu dropdown-user">
                          <li><a href="#">Config option 1</a>
                          </li>
                          <li><a href="#">Config option 2</a>
                          </li>
                      </ul>
                      <a class="close-link">
                          <i class="fa fa-times"></i>
                      </a>
                  </div>
              </div>
              <div class="ibox-content">
                  <div id="calendar"></div>
              </div>
          </div>
      </div>
  </div>

  {% include "managements/_partials/_analytics.html" with title="산후조리원 상세페이지 유입자 분석" %}

<script>
$(document).ready(function() {

        $('.i-checks').iCheck({
            checkboxClass: 'icheckbox_square-green',
            radioClass: 'iradio_square-green',
        });

    /* initialize the external events
     -----------------------------------------------------------------*/


    $('#external-events div.external-event').each(function() {

        // store data so the calendar knows to render an event upon drop
        $(this).data('event', {
            title: $.trim($(this).text()), // use the element's text as the event title
            stick: true // maintain when user navigates (see docs on the renderEvent method)
        });

        // make the event draggable using jQuery UI
        $(this).draggable({
            zIndex: 1111999,
            revert: true,      // will cause the event to go back to its
            revertDuration: 0  //  original position after the drag
        });

    });


    /* initialize the calendar
     -----------------------------------------------------------------*/
    var date = new Date();
    var d = date.getDate();
    var m = date.getMonth();
    var y = date.getFullYear();

    $('#calendar').fullCalendar({
        googleCalendarApiKey: 'AIzaSyAhMsoWT4vx8K8oGb20jhjlSuRaBdch_94',
        events: {
          googleCalendarId: 'tcrlt99k36o0sa9dnmu55e7fu4@group.calendar.google.com'
        },
        header: {
            left: 'prev,next today',
            center: 'title',
            right: 'month,agendaWeek,agendaDay'
        },
        editable: true,
        droppable: true, // this allows things to be dropped onto the calendar
        drop: function() {
            // is the "remove after drop" checkbox checked?
            if ($('#drop-remove').is(':checked')) {
                // if so, remove the element from the "Draggable Events" list
                $(this).remove();
            }
        }
    });
});
</script>
{% endblock %}
